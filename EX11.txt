CREATE DATABASE EJERCICIO_11;
USE EJERCICIO_11;
GO
CREATE TABLE Facultad (
	Codigo INT PRIMARY KEY,
	Nombre NVARCHAR(100)
)
CREATE TABLE Investigadores (
	DNI VARCHAR(8) PRIMARY KEY,
	NomApels NVARCHAR(255),
	Facultad INT FOREIGN KEY REFERENCES Facultad(Codigo) ON DELETE NO ACTION ON UPDATE CASCADE
)
CREATE TABLE Equipos (
	NumSerie CHAR(4) PRIMARY KEY,
	Nombre NVARCHAR(100),
	Facultad INT FOREIGN KEY REFERENCES Facultad(Codigo) ON DELETE NO ACTION ON UPDATE CASCADE
)
CREATE TABLE Reserva (
	DNI VARCHAR(8) FOREIGN KEY REFERENCES Investigadores(DNI) ON DELETE NO ACTION ON UPDATE CASCADE,
	NumSerie CHAR(4) FOREIGN KEY REFERENCES Equipos(NumSerie) ON DELETE NO ACTION ON UPDATE CASCADE,
	Comienzo DATETIME,
	Fin DATETIME,
	CONSTRAINT PK_Reserva PRIMARY KEY (DNI, NumSerie)
)